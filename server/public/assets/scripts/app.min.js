/*! to-do_app 2015-10-12 */
var app=angular.module("myApp",[]);app.controller("todoController",["$scope","$http",function(a,b){a.newTodo="",a.dueDate="",a.todayArray=[],a.tomorrowArray=[],a.laterArray=[],a.doneTodayArray=[],a.doneTomorrowArray=[],a.doneLaterArray=[],a.addTodo=function(){var c={description:a.newTodo,completed:!1,when:a.dueDate};b({method:"POST",url:"/todos",data:c}).then(function(b){console.log("Success!"+b),"Later"==a.dueDate?a.laterArray.push(a.newTodo):"Tomorrow"==a.dueDate?a.tomorrowArray.push(a.newTodo):a.todayArray.push(a.newTodo),a.newTodo="",a.getTodos()})},a.deleteTask=function(c){b({method:"POST",url:"/deleteTodos",data:c}).then(function(){a.getTodos()})},a.taskDone=function(a){console.log(a),b({method:"POST",url:"/updateTodos",data:JSON.stringify(a)}).then(function(){console.log(a),console.log("post request to server for update successful")})},a.newDay=function(){a.todayArray=a.todayArray.concat(a.tomorrowArray),a.tomorrowArray=[],a.doneTodayArray=[],a.doneTomorrowArray=[],a.doneLaterArray=[]},a.getTodos=function(){a.todayArray=[],a.tomorrowArray=[],a.laterArray=[],b.get("/getTodos").then(function(b){angular.forEach(b.data,function(b){"Today"==b.when?a.todayArray.push(b):"Tomorrow"==b.when?a.tomorrowArray.push(b):"Later"==b.when&&a.laterArray.push(b)})})},a.getTodos()}]);